========================================================================
CATEGORY-PARTITION TESTING REPORT
========================================================================
Class: Recensione
Package: model.beans  
========================================================================

### 1. CLASS OVERVIEW

**Class Name**: Recensione
**Package**: model.beans

**Description**:
Recensione represents a product review in an e-commerce system. It links a user to a product with a rating (1-5 stars), review text, and date.

**Important Fields**:
- id: int - Review identifier
- valutazione: int - Rating (1-5 stars)
- dataRecensione: Date - Review date
- testo: String - Review text  
- utente: Utente - User who wrote the review
- prodotto: Prodotto - Product being reviewed

**Invariants** (from JML):
- invariant valutazione >= 1 && valutazione <= 5

========================================================================
### 2. METHODS TO BE TESTED
========================================================================

2.1 Constructor: Recensione()
2.2 Constructor: Recensione(Utente utente, Prodotto prodotto, int valutazione, String testo, Date dataRecensione)
2.3 Method: void setValutazione(int valutazione)
2.4 Method: void setDataRecensione(Date dataRecensione)
2.5 Method: void setTesto(String testo)
2.6 Method: void setUtente(Utente utente)
2.7 Method: void setProdotto(Prodotto prodotto)

========================================================================
### 2.2 Constructor: Recensione(Utente, Prodotto, int, String, Date)
========================================================================

2.2.1. **Parameters**

- utente: Utente (requires != null)
- prodotto: Prodotto (requires != null)
- valutazione: int (requires >= 1 && <= 5)
- testo: String (requires != null && !trim().isEmpty())
- dataRecensione: Date (requires != null)

2.2.2. **Categories and choices**

Category C1 - utente parameter
  C1.a: null
  C1.b: valid Utente object

Category C2 - prodotto parameter
  C2.a: null
  C2.b: valid Prodotto object

Category C3 - valutazione value
  C3.a: < 1 (invalid low)
  C3.b: = 1 (boundary valid)
  C3.c: 2-5 (normal valid)
  C3.d: = 5 (boundary valid)
  C3.e: > 5 (invalid high)

Category C4 - testo parameter
  C4.a: null
  C4.b: empty/whitespace
  C4.c: valid text

Category C5 - dataRecensione parameter
  C5.a: null
  C5.b: valid Date

2.2.3. **Test frames**

F1: All valid parameters
  Choices: C1.b + C2.b + C3.c + C4.c + C5.b
  Expected: Object created successfully

F2: Invalid valutazione (< 1)
  Choices: C1.b + C2.b + C3.a + C4.c + C5.b
  Expected: IllegalArgumentException - "La valutazione deve essere compresa tra 1 e 5"

F3: Invalid valutazione (> 5)
  Choices: C1.b + C2.b + C3.e + C4.c + C5.b
  Expected: IllegalArgumentException

F4: Null utente
  Choices: C1.a + C2.b + C3.c + C4.c + C5.b
  Expected: IllegalArgumentException - "L'utente non può essere null"

F5: Null prodotto
  Choices: C1.b + C2.a + C3.c + C4.c + C5.b
  Expected: IllegalArgumentException - "Il prodotto non può essere null"

F6: Null/empty testo
  Choices: C1.b + C2.b + C3.c + C4.a/C4.b + C5.b
  Expected: IllegalArgumentException - "Il testo della recensione non può essere null o vuoto"

F7: Null dataRecensione
  Choices: C1.b + C2.b + C3.c + C4.c + C5.a
  Expected: IllegalArgumentException - "La data della recensione non può essere null"

F8: Boundary valutazione = 1
  Choices: C1.b + C2.b + C3.b + C4.c + C5.b
  Expected: Success

F9: Boundary valutazione = 5
  Choices: C1.b + C2.b + C3.d + C4.c + C5.b
  Expected: Success

2.2.4. **Suggested tests**

Test Method: shouldCreateRecensioneWhenAllParametersAreValid()
  Arrange: Create valid Utente, Prodotto, valutazione=4, testo="Great!", date=new Date()
  Act: new Recensione(utente, prodotto, 4, "Great!", date)
  Assert: All fields set correctly

Test Method: shouldThrowExceptionWhenValutazioneIsZero()
  Act & Assert: assertThrows(IllegalArgumentException.class, () -> new Recensione(u, p, 0, "text", date))

Test Method: shouldThrowExceptionWhenValutazioneIsSix()
  Act & Assert: assertThrows(IllegalArgumentException.class, () -> new Recensione(u, p, 6, "text", date))

Test Method: shouldAcceptMinimumValutazioneOfOne()
  Act: Recensione r = new Recensione(u, p, 1, "text", date)
  Assert: assertEquals(1, r.getValutazione())

Test Method: shouldAcceptMaximumValutazioneOfFive()
  Act: Recensione r = new Recensione(u, p, 5, "text", date)
  Assert: assertEquals(5, r.getValutazione())

2.2.5. **Parameterized tests**

CSV Schema:
Columns: scenario, utenteNull, prodottoNull, valutazione, testoValid, dateNull, shouldThrow

Example rows:
"all valid", false, false, 3, true, false, false
"valutazione 0", false, false, 0, true, false, true
"valutazione 6", false, false, 6, true, false, true
"null utente", true, false, 3, true, false, true
"null prodotto", false, true, 3, true, false, true
"empty testo", false, false, 3, false, false, true

========================================================================
### 2.3 Method: void setValutazione(int valutazione)
========================================================================

2.3.1. **Parameters**

- valutazione: int (requires >= 1 && <= 5)

2.3.2. **Categories**

Category C1 - valutazione value
  C1.a: < 1
  C1.b: = 1
  C1.c: 2-4
  C1.d: = 5
  C1.e: > 5

2.3.3. **Test frames**

F1-F5: Similar to constructor validation

2.3.4. **Suggested tests**

Test Method: shouldSetValidValutazione()
  Arrange: Recensione r = createValidRecensione()
  Act: r.setValutazione(4)
  Assert: assertEquals(4, r.getValutazione())

Test Method: shouldThrowExceptionWhenSettingInvalidValutazione()
  Arrange: Recensione r = createValidRecensione()
  Act & Assert: assertThrows(IllegalArgumentException.class, () -> r.setValutazione(0))

========================================================================
### 2.4-2.7 Other Setters
========================================================================

Methods setDataRecensione, setTesto, setUtente, setProdotto follow similar patterns:
- Validate non-null (and non-empty for testo)
- Throw IllegalArgumentException if invalid
- Set field if valid

Test approach mirrors constructor tests but for individual setters.

Suggested tests for each:
- shouldThrowExceptionWhenSettingNullX()
- shouldSetValidX()

========================================================================
END OF REPORT
========================================================================
