You are an expert in Java, JUnit 5, TDD, and Category-Partition Testing.
Your task is to generate a complete, clean, and idiomatic JUnit 5 test class based on the provided source code of a Java class and a Category-Partition Testing report.

Use JUnit 5 (Jupiter) exclusively. The test class must be named "ClassNameTest", placed in the same package as the class under test, and utilize standard JUnit 5 imports (specifically for Test, BeforeEach, DisplayName, ParameterizedTest, CsvSource, and Assertions). Follow the Arrange/Act/Assert structure with clear comments for every test method. Prioritize readability and maintainability.

You must strictly follow the Test Frames (F1, F2, etc.) defined in the report. Do not redo the category-partition analysis; trust the report and turn the frames into code. For each significant frame, implement at least one test. Set up the "Given" state, perform the "When" action, and verify the "Then" assertions (return values, state changes, or exceptions) exactly as described. If the report suggests parameterized tests, implement them using @ParameterizedTest with @CsvSource, using meaningful name attributes.

Organize the test class logically, starting with constructor tests. Use assertAll when checking multiple aspects and assertThrows for expected exceptions. When dealing with collaborator classes where the full code is missing, do not use mocking unless absolutely necessary; instead, create simple private helper methods within the test class to instantiate valid objects. Ensure all invariants mentioned in the code or report are verified.

Your output must be strictly the Java code block containing the final test class. Do not provide explanations, summaries, or restate the report. Just produce the code.

Here is an example of an already made test class made from a class called AdminServiceTest.java and this is how you have to structure the test class for the provided class:
"@ExtendWith(MockitoExtension.class) class AdminServiceTest {      @Mock     private ProdottoDAO prodottoDAO;     @Mock     private CategoriaDAO categoriaDAO;     @Mock     private UtenteDAO utenteDAO;     @Mock     private OrdineDAO ordineDAO;     @Mock     private Part part;      @InjectMocks     private AdminService adminService;      // =================================================================================================     // Constructor Tests     // =================================================================================================      @Test     @DisplayName("TF1: Should instantiate service when all DAOs are non-null")     void shouldInstantiateServiceWhenAllDAOsAreNonNull() {         // Assert         assertNotNull(adminService);     }      @Test     @DisplayName("TF2: Should throw exception when ProdottoDAO is null")     void shouldThrowExceptionWhenProdottoDAOIsNull() {         // Act & Assert         IllegalArgumentException exception = assertThrows(                 IllegalArgumentException.class,                 () -> new AdminService(null, categoriaDAO, utenteDAO, ordineDAO));         assertTrue(exception.getMessage().contains("ProdottoDAO cannot be null"));     }      @Test     @DisplayName("TF3: Should throw exception when CategoriaDAO is null")     void shouldThrowExceptionWhenCategoriaDAOIsNull() {         // Act & Assert         IllegalArgumentException exception = assertThrows(                 IllegalArgumentException.class,                 () -> new AdminService(prodottoDAO, null, utenteDAO, ordineDAO));         assertTrue(exception.getMessage().contains("CategoriaDAO cannot be null"));     }      @Test     @DisplayName("TF4: Should throw exception when UtenteDAO is null")     void shouldThrowExceptionWhenUtenteDAOIsNull() {         // Act & Assert         IllegalArgumentException exception = assertThrows(                 IllegalArgumentException.class,                 () -> new AdminService(prodottoDAO, categoriaDAO, null, ordineDAO));         assertTrue(exception.getMessage().contains("UtenteDAO cannot be null"));     }      @Test     @DisplayName("TF5: Should throw exception when OrdineDAO is null")     void shouldThrowExceptionWhenOrdineDAOIsNull() {         // Act & Assert         IllegalArgumentException exception = assertThrows(                 IllegalArgumentException.class,                 () -> new AdminService(prodottoDAO, categoriaDAO, utenteDAO, null));         assertTrue(exception.getMessage().contains("OrdineDAO cannot be null"));     }      // =================================================================================================     // aggiungiProdotto Tests     // =================================================================================================      @Test     @DisplayName("TF6: Should add product when inputs are valid")     void shouldAddProdottoWhenInputsAreValid() throws Exception {         // Arrange         Prodotto product = new Prodotto();         Categoria category = new Categoria();         String jsonSpecifications = "{\"specifiche\":[{\"nome\":\"Colore\",\"valore\":\"Rosso\"}]}";          String fakeImageName = "image.jpg";         byte[] fakeImageRawStream = "test data".getBytes();         ByteArrayInputStream fakeImageStream = new ByteArrayInputStream(fakeImageRawStream);          when(part.getSubmittedFileName()).thenReturn(fakeImageName);         when(part.getInputStream()).thenReturn(fakeImageStream);         when(prodottoDAO.getLastProduct()).thenReturn(1);         when(prodottoDAO.addProdotto(product)).thenReturn(1);         doNothing().when(prodottoDAO).aggiungiSpecifiche(any(), anyInt());          // Act         adminService.aggiungiProdotto(product, category, part, jsonSpecifications);          // Assert         assertAll("Verify interactions",                 () -> verify(prodottoDAO).addProdotto(product),                 () -> verify(prodottoDAO).aggiungiSpecifiche(any(), eq(1)),                 () -> assertEquals("image.jpg", product.getImmagine()));     }      @Test     @DisplayName("TF7: Should throw exception when Prodotto is null")     void shouldThrowExceptionWhenProdottoIsNull() {         // Act & Assert         IllegalArgumentException exception = assertThrows(                 IllegalArgumentException.class,                 () -> adminService.aggiungiProdotto(null, new Categoria(), part, "{}"));         assertTrue(exception.getMessage().contains("Prodotto cannot be null"));     }      @Test     @DisplayName("TF8: Should throw exception when Categoria is null")     void shouldThrowExceptionWhenCategoriaIsNull() {         // Act & Assert         IllegalArgumentException exception = assertThrows(                 IllegalArgumentException.class,                 () -> adminService.aggiungiProdotto(new Prodotto(), null, part, "{}"));         assertTrue(exception.getMessage().contains("Categoria cannot be null"));     }      @Test     @DisplayName("TF9: Should throw exception when Immagine is null")     void shouldThrowExceptionWhenImmagineIsNull() {         // Act & Assert         IllegalArgumentException exception = assertThrows(                 IllegalArgumentException.class,                 () -> adminService.aggiungiProdotto(new Prodotto(), new Categoria(), null, "{}"));         assertTrue(exception.getMessage().contains("Immagine Part cannot be null"));     }      @ParameterizedTest     @DisplayName("TF10, TF11: Should throw exception when Specifiche is null or empty")     @CsvSource({ ",", "''", "'   '" })     void shouldThrowExceptionWhenSpecificheIsInvalid(String specifiche) {         // Act & Assert         IllegalArgumentException exception = assertThrows(                 IllegalArgumentException.class,                 () -> adminService.aggiungiProdotto(new Prodotto(), new Categoria(), part, specifiche));         assertTrue(exception.getMessage().contains("Specifiche string cannot be null or empty"));     }      @Test     @DisplayName("TF12: Should throw exception when Image file name is null")     void shouldThrowExceptionWhenImageFileNameIsNull() {         // Arrange         when(part.getSubmittedFileName()).thenReturn(null);          // Act & Assert         IllegalArgumentException exception = assertThrows(                 IllegalArgumentException.class,                 () -> adminService.aggiungiProdotto(new Prodotto(), new Categoria(), part, "{}"));         assertTrue(exception.getMessage().contains("Image file name cannot be null"));     }      @Test     @DisplayName("TF13: Should throw exception when Specifiche is invalid JSON")     void shouldThrowExceptionWhenSpecificheIsInvalidJson() {         // Arrange         String fileName = "img.jpg";         when(part.getSubmittedFileName()).thenReturn(fileName);          // Act & Assert         IllegalArgumentException exception = assertThrows(                 IllegalArgumentException.class,                 () -> adminService.aggiungiProdotto(new Prodotto(), new Categoria(), part, "{invalid_json}"));         assertTrue(exception.getMessage().contains("Invalid JSON format for specifiche"));     }      @Test     @DisplayName("TF14: Should throw exception when getLastProduct returns invalid ID")     void shouldThrowExceptionWhenLastProductIdIsInvalid() throws Exception {         // Arrange         Prodotto product = new Prodotto();         Categoria category = new Categoria();         String jsonSpecifiche = "{\"specifiche\":[]}";         String fileName = "image.jpg";         byte[] fakeImageRawStream = "test data".getBytes();         ByteArrayInputStream fakeImageStream = new ByteArrayInputStream(fakeImageRawStream);          when(part.getSubmittedFileName()).thenReturn(fileName);         when(part.getInputStream()).thenReturn(fakeImageStream);         when(prodottoDAO.getLastProduct()).thenReturn(-1);          // Act & Assert         IllegalStateException exception = assertThrows(                 IllegalStateException.class,                 () -> adminService.aggiungiProdotto(product, category, part, jsonSpecifiche));         assertTrue(exception.getMessage().contains("Failed to retrieve the last added product ID."));     }      // =================================================================================================     // mostraProdotti Tests     // =================================================================================================      @Test     @DisplayName("TF15: Should return JSON when products exist")     void shouldReturnJsonWhenProductsExist() throws Exception {         // Arrange         Categoria category = new Categoria();         category.setNomeCategoria("Cat");          Prodotto product = new Prodotto();         product.setId(1);         product.setMarca("Marca");         product.setModello("Modello");         product.setPrezzo(10.0f);         product.setCategoria(category);          ArrayList<Prodotto> arrayProducts = new ArrayList<>();         arrayProducts.add(product);          when(prodottoDAO.getProdotti()).thenReturn(arrayProducts);          // Act         String json = adminService.mostraProdotti();          // Assert         assertTrue(json.contains("\"prodotti\":"));         assertTrue(json.contains("\"marca\":\"Marca\""));     }      @Test     @DisplayName("TF16: Should throw exception when DAO returns null")     void shouldThrowExceptionWhenDaoReturnsNullForProdotti() throws Exception {         // Arrange         when(prodottoDAO.getProdotti()).thenReturn(null);          // Act & Assert         IllegalStateException exception = assertThrows(                 IllegalStateException.class,                 () -> adminService.mostraProdotti());         assertTrue(exception.getMessage().contains("Failed to retrieve the list of products."));     }      @Test     @DisplayName("TF17: Should handle null elements in product list")     void shouldHandleNullElementsInProductList() throws Exception {         // Arrange         Prodotto product = new Prodotto();         product.setId(1);          ArrayList<Prodotto> arrayProducts = new ArrayList<>();         arrayProducts.add(null);         arrayProducts.add(product);          when(prodottoDAO.getProdotti()).thenReturn(arrayProducts);          // Act         String json = adminService.mostraProdotti();          // Assert         assertTrue(json.contains("\"prodotti\":"));     }"

Here is the path to the Category-Partition Testing report:
src\test\java\services\WishlistServiceTest.txt

Here is the path to the Java Class under test:
src\main\java\services\WishlistService.java